(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t,a){e.exports=a(81)},55:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(43),c=a.n(l),o=(a(55),a(11)),i=a(12),s=a(14),u=a(13),m=a(5),p=a.n(m),d=a(9),h=a(6),E=a(10),f=a.n(E),v=a(83),b=a(85),g=a(82),y=a(84),k={position:"relative",padding:"1rem",border:".2rem solid #ececec",borderRadius:"8px",marginRight:"5%",marginLeft:"5%",color:"#212529"},w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClick=function(){var t=Object(d.a)(p.a.mark((function t(a,n){var r,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("/api/items/".concat(a));case 3:r=t.sent,200===r.status&&(l=e.state.items.filter((function(e){return e.id!==a})),e.setState({items:l})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSubmit=function(t){t.preventDefault(),f.a.post("/api/items/",{name:t.target.name.value,superhero:t.target.superhero.value,imageUrl:t.target.imageUrl.value,price:t.target.price.value,description:t.target.description.value}).then((function(t){var a=e.state.items;a.unshift(t.data),document.getElementById("new-item").reset(),e.setState({items:a,loading:!1})})).catch((function(e){console.error(e.stack)}))},e.addOrder=function(e){f.a.post("/api/orders/add",{superheroId:e.target.getAttribute("itemID")}).then((function(e){console.log(e.data)})).catch((function(e){console.error(e.stack)}))},e.state={items:[],loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/items",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({items:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("ERROR: ",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.items;return t.loading?r.a.createElement("div",null,"Loading..."):0===a.length?r.a.createElement("div",null,"No items found!"):r.a.createElement("div",null,r.a.createElement("div",{className:"items-form"},r.a.createElement(v.a,{id:"new-item",onSubmit:function(t){return e.handleSubmit(t)},style:k},r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Name"),r.a.createElement(v.a.Control,{name:"name",type:"text",placeholder:"Enter superpower name."})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Superhero"),r.a.createElement(v.a.Control,{name:"superhero",type:"text",placeholder:"Owner of superpower."})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Image URL"),r.a.createElement(v.a.Control,{name:"imageUrl",type:"url",placeholder:"Please provide direct image link."})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Price"),r.a.createElement(v.a.Control,{name:"price",type:"number",placeholder:"Cost of item"})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null," Description "),r.a.createElement(v.a.Control,{as:"textarea",rows:"2",name:"description",type:"text",placeholder:"Include small description of power here."})),r.a.createElement(b.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement(g.a,{style:{marginLeft:"5%",marginRight:"5%"}},a.map((function(t){return r.a.createElement(y.a,{key:t.id},r.a.createElement(y.a.Img,{variant:"top",src:t.imageUrl,alt:""}),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,r.a.createElement(h.b,{to:"/superpowers/".concat(t.id)}," ",t.superhero,"'s ",t.name," ")),r.a.createElement(y.a.Text,null,"$",t.price,".00"),r.a.createElement(b.a,{variant:"primary",type:"button",value:"Add to cart",itemID:t.id,onClick:function(t){return e.addOrder(t)},style:{marginRight:"3%"}},"Add To Cart"),r.a.createElement(b.a,{variant:"danger",type:"button",onClick:function(){e.handleClick(t.id)}},"Delete Item")))}))))}}]),a}(n.Component);function x(e){var t=e.handleClick,a=e.user,n=e.activeLink;return onpopstate=function(){t(document.location.pathname)},r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",null,r.a.createElement(h.b,{to:"/",className:"/"===n?"selected":"navbar-link-content",onClick:function(){return t("/")}},r.a.createElement("i",{className:"fas fa-home"}))),r.a.createElement("div",null,r.a.createElement(h.b,{to:"/superpowers",className:"/superpowers"===n||n==="/superpowers/".concat(document.location.pathname.match(/\d/g))?"selected":"navbar-link-content",onClick:function(){return t("/superpowers")}},r.a.createElement("i",{className:"fab fa-superpowers"}))),r.a.createElement("div",null,r.a.createElement(h.b,{to:"/cart",className:"/cart"===n?"selected":"navbar-link-content",onClick:function(){return t("/cart")}},r.a.createElement("i",{className:"fas fa-shopping-cart"}))),r.a.createElement("div",null,r.a.createElement(h.b,{to:"admin"===a.role?"/users":"/users/".concat(a.id),className:"/users"===n||n==="/users/".concat(document.location.pathname.match(/\d/g))?"selected":"navbar-link-content",onClick:function(){return t("/users")}},r.a.createElement("i",{className:"fas fa-user-circle"}))))}var O=a(19);function j(e){var t=e.handleClick,a=Object(n.useState)(!1),l=Object(O.a)(a,2),c=l[0];l[1];return r.a.createElement("div",{className:"Home-content"},r.a.createElement("div",{className:"Home-header"},r.a.createElement("text",{className:"text-logo"},"The Qcc Shopper"),r.a.createElement("img",{src:"marvel.jpg",alt:"",width:"570",height:"250"})),r.a.createElement("div",{className:"Home-footer"},r.a.createElement("div",null,r.a.createElement("h1",null," Marvel Fan? "),r.a.createElement("text",null," and not a part of our marvelous community? "),r.a.createElement("text",null," Well, hurry up and join in the fun by signing up for an account and grabbing your own unique superpower! "),r.a.createElement("div",{className:"sign-up-container"},c?r.a.createElement(h.b,{to:"/login",onClick:function(){return t("/login")}}," ",r.a.createElement("button",{className:"sign-up-btn"}," Login ")," "):r.a.createElement(h.b,{to:"/signup",onClick:function(){return t("/signup")}}," ",r.a.createElement("button",{className:"sign-up-btn"}," Sign up ")," "))),r.a.createElement("div",null,r.a.createElement("h1",null," Welcome to the marvel family! Have a look around! "),r.a.createElement("img",{src:"marvel_logo.png",alt:"",width:"300"})),r.a.createElement("div",null,r.a.createElement("h1",null," About: "),r.a.createElement("text",null," In this site, you'll find some of the most awesome, powerful superpowers known to man, and it all can be within your grasp! "),r.a.createElement("text",null," But of course, there's a catch. Since you can't find these powers anywhere else in the world, the prices can be quite exorbitant. "),r.a.createElement("text",null," Nonetheless, you won't regret it..Happy shopping! "))))}var C=a(7),S=a(44),L=a(49),N=a(45);function I(e){var t=e.handleClick,a=e.handleUser,l=Object(n.useState)(""),c=Object(O.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(O.a)(s,2),m=u[0],E=u[1],v=Object(n.useState)([]),g=Object(O.a)(v,2),y=g[0],k=g[1];function x(){return(x=Object(d.a)(p.a.mark((function e(t){var n,r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.a.post("/auth/login",{email:o,password:m});case 4:if(n=e.sent,!(r=n.data).id){e.next=15;break}return e.next=9,f.a.get("api/items");case 9:l=e.sent,c=l.data,k(c),a(r),e.next=16;break;case 15:Array.isArray(r)?k(r):"Login failed"===r&&window.alert(r);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}return y.length>0?r.a.createElement(C.a,{to:"/superpowers",component:w}):r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)}},r.a.createElement(S.a,{controlId:"email",bssize:"large"},r.a.createElement(L.a,null,"E-mail:"),r.a.createElement(N.a,{autoFocus:!0,type:"email",value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement(S.a,{controlId:"password",bssize:"large"},r.a.createElement(L.a,null,"Password:"),r.a.createElement(N.a,{type:"password",value:m,onChange:function(e){return E(e.target.value)}})),r.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(o.length>0&&m.length>0),type:"submit",onClick:function(){return t("/superpowers")}},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"Not part of superpower community? Join us!"),r.a.createElement(h.b,{to:"/signup"},r.a.createElement(b.a,{block:!0,bssize:"large",type:"submit"},"Sign Up"))))}var R=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleRemove=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("/api/orders/".concat(a));case 3:n=t.sent,n.data,r=e.state.orders.filter((function(e){return e.id!==a})),e.setState({orders:r,isLoggedIn:!0,isLoading:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.state={orders:[],isLoggedIn:!1,isLoading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/orders");case 3:t=e.sent,"string"===typeof(a=t.data)?this.setState({isLoggedIn:!1,isLoading:!1}):this.setState({orders:a,isLoggedIn:!0,isLoading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.stack);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.orders,n=t.isLoggedIn;return t.isLoading?r.a.createElement("div",null," Loading... "):!1===n?r.a.createElement(C.a,{to:"/login",component:I}):0===a.length?r.a.createElement("div",null,r.a.createElement("h1",{style:{display:"flex",justifyContent:"center"}}," You have no superpowers in cart! ")):r.a.createElement("div",null,r.a.createElement("h1",{style:{display:"flex",justifyContent:"center"}}," Your Cart "),r.a.createElement(g.a,{style:{marginLeft:"5%",marginRight:"5%"}},a.map((function(t){return r.a.createElement(y.a,{key:t.id},r.a.createElement(y.a.Img,{variant:"top",src:t.imageUrl,alt:""}),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,r.a.createElement(h.b,{to:"/superpowers/".concat(t.id)}," ",t.superhero,"'s ",t.name," ")),r.a.createElement(y.a.Text,null,"$",t.price,".00"),r.a.createElement(h.b,{to:"/payment"}," ",r.a.createElement(b.a,{variant:"primary",type:"button"}," checkout ")," "),r.a.createElement(b.a,{variant:"danger",type:"button",onClick:function(){return e.handleRemove(t.id)}}," Remove from cart ")))}))))}}]),a}(n.Component),U=a(48),D=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={users:[],user:{},loading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/users");case 3:t=e.sent,a=t.data,console.log(a),a.user?this.setState({user:a.user,loading:!1}):this.setState({users:a,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("ERROR: ",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/users/".concat(t));case 3:a=e.sent,n=a.data,console.log(n),r=this.state.users.filter((function(e){return e.id!==t})),this.setState({users:Object(U.a)(r)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("ERROR: ",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.user;return t.loading?r.a.createElement("div",null,"Loading..."):"admin"===n.role?r.a.createElement("div",null,"This is the ADMIN's route to ALL USERS info.",r.a.createElement("hr",null),a.map((function(t){return r.a.createElement("li",{className:"list",key:t.id},r.a.createElement("div",null,r.a.createElement("img",{src:t.imageUrl,alt:"userImage"}),r.a.createElement("p",null," Name: ",r.a.createElement(h.b,{to:"/users/".concat(t.id)},t.firstName," ",t.lastName)),r.a.createElement("p",null," Address: ",t.addresses[0].line1,", ",t.addresses[0].line2," "),r.a.createElement("p",null," City: ",t.addresses[0].city," "),r.a.createElement("p",null," State: ",t.addresses[0].state," "),r.a.createElement("p",null," Zipcode: ",t.addresses[0].zip," "),r.a.createElement("p",null," Email: ",t.email),r.a.createElement("p",null," Role: ",t.role),r.a.createElement("button",{type:"button",onClick:function(a){return e.handleDelete(t.id)}},"Delete")))}))):"member"===n.role?r.a.createElement(C.a,{to:"/users/".concat(n.id),component:q}):r.a.createElement(C.a,{to:"/login",component:I})}}]),a}(n.Component),A=a(25),G={position:"relative",padding:"1rem",border:".2rem solid #ececec",borderRadius:"8px",marginRight:"5%",marginLeft:"5%",color:"#212529"};var T=function(e){var t=e.handleSubmit;return r.a.createElement(v.a,{onSubmit:t,style:G},r.a.createElement(v.a.Group,{controlId:"Email"},r.a.createElement(v.a.Label,null,"Email Address"),r.a.createElement(v.a.Control,{required:!0,type:"email",name:"email",placeholder:"Enter email"}),r.a.createElement(v.a.Text,{className:"text-muted"},"Your email and other information will not be shared.")),r.a.createElement(v.a.Group,{controlId:"Password"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{required:!0,type:"password",name:"password",placeholder:"Password"})),r.a.createElement(v.a.Group,{controlId:"First Name"},r.a.createElement(v.a.Label,null,"Firstname"),r.a.createElement(v.a.Control,{required:!0,type:"text",name:"firstName",placeholder:"Enter Here"})),r.a.createElement(v.a.Group,{controlId:"Last Name"},r.a.createElement(v.a.Label,null,"Lastname"),r.a.createElement(v.a.Control,{required:!0,type:"text",name:"lastName",placeholder:"Enter Here"})),r.a.createElement(v.a.Group,{controlId:"Line1"},r.a.createElement(v.a.Label,null,"Street Address"),r.a.createElement(v.a.Control,{required:!0,type:"text",name:"line1",placeholder:"ex: 10000 Somewhere Street"})),r.a.createElement(v.a.Group,{controlId:"Line2"},r.a.createElement(v.a.Label,null,"Apt/PO Box #"),r.a.createElement(v.a.Control,{type:"text",name:"line2",placeholder:"ex: 100-00 ABC Street"})),r.a.createElement(v.a.Group,{controlId:"City"},r.a.createElement(v.a.Label,null,"City"),r.a.createElement(v.a.Control,{required:!0,type:"text",name:"city",placeholder:"ex: Queens"})),r.a.createElement(v.a.Group,{controlId:"State"},r.a.createElement(v.a.Label,null,"State"),r.a.createElement(v.a.Control,{required:!0,type:"text",name:"state",placeholder:"ex: NY"})),r.a.createElement(v.a.Group,{controlId:"Zipcode"},r.a.createElement(v.a.Label,null,"Zipcode"),r.a.createElement(v.a.Control,{required:!0,type:"text",name:"zip",placeholder:"ex: 11106"})),r.a.createElement(v.a.Group,{controlId:"Image"},r.a.createElement(v.a.Label,null,"User Image URL"),r.a.createElement(v.a.Control,{type:"text",name:"imageUrl",placeholder:"Direct link from image host"})),r.a.createElement(b.a,{variant:"primary",type:"submit"},"Sign Up"))},P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=e.handleSubmit.bind(Object(A.a)(e)),e}return Object(i.a)(a,[{key:"handleSubmit",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={email:t.target.email.value,password:t.target.password.value,firstName:t.target.firstName.value,lastName:t.target.lastName.value,imageUrl:t.target.imageUrl.value},n={line1:t.target.line1.value,line2:t.target.line2.value,city:t.target.city.value,state:t.target.state.value,zip:t.target.zip.value},e.prev=3,e.next=6,f.a.post("/auth/signup",{userAddress:n,userDetails:a});case 6:r=e.sent,"string"===typeof(l=r.data)?window.alert(l):this.props.history.push({pathname:"/users/".concat(l.id)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center",padding:"1%"}},"Signup Form"),r.a.createElement(T,{handleSubmit:this.handleSubmit}))}}]),a}(n.Component),q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={memberInfo:{},memberId:null,loading:!0,error:{error:!1,message:""}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.userId,this.props.history.listen((function(e,t){r.props.handleClick(document.location.pathname)})),e.next=5,fetch("/api/users/".concat(t),{method:"GET"});case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,this.setState({memberInfo:n.user,memberId:n.id,loading:!1,error:{error:!1,message:""}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("ERROR: ",e.t0),this.setState({loading:!1,error:{error:!0,message:"USER DOESN'T EXIST"}});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.memberInfo,a=e.memberId,n=e.loading;return e.error.error?r.a.createElement(C.a,{to:"/login"}):n?r.a.createElement("div",null,"Loading..."):t.id===a?r.a.createElement("div",{className:"individual-page"},r.a.createElement("li",{key:t.id},r.a.createElement("div",null,r.a.createElement("img",{src:t.imageUrl,alt:"userImage"}),r.a.createElement("p",null,"Name: ",t.firstName," ",t.lastName),r.a.createElement("p",null,"Address: ",t.addresses[0].line1,", ",t.addresses[0].line2," "),r.a.createElement("p",null,"City: ",t.addresses[0].city," "),r.a.createElement("p",null,"State: ",t.addresses[0].state," "),r.a.createElement("p",null,"Zipcode: ",t.addresses[0].zip," "),r.a.createElement("p",null,"Email: ",t.email),r.a.createElement("p",null,"Role: ",t.role)))):r.a.createElement(C.a,{to:"/superpowers"})}}]),a}(n.Component),z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={item:{},isLoading:!0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.superpowerId,e.next=4,f.a.get("/api/items/".concat(t));case 4:a=e.sent,n=a.data,this.setState({item:n,isLoading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.stack);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.item;return e.isLoading?r.a.createElement("div",null," Loading... "):r.a.createElement("div",{className:"individual-page"},r.a.createElement("img",{src:t.imageUrl,alt:""}),r.a.createElement("div",null," ",t.superhero,"'s' ",t.name," "),r.a.createElement("div",null," $",t.price," "),r.a.createElement("div",null," ",t.description," "),r.a.createElement("div",null," ",r.a.createElement(h.b,{to:"/superpowers"}," Back to superpower list ")," "))}}]),a}(n.Component);function B(){return r.a.createElement("div",null,"404 Error not found...The path you were looking for does not exist.")}var M=a(47),H=a(22);function F(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(O.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),m=Object(O.a)(u,2),h=m[0],E=m[1],f=Object(n.useState)(!0),v=Object(O.a)(f,2),b=v[0],g=v[1],y=Object(n.useState)(""),k=Object(O.a)(y,2),w=k[0],x=k[1],j=Object(H.useStripe)(),C=Object(H.useElements)();Object(n.useEffect)((function(){window.fetch("/api/orders/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"xl-tshirt"}]})}).then((function(e){return e.json()})).then((function(e){x(e.clientSecret)}))}),[]);var S=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t.empty),s(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.next=4,j.confirmCardPayment(w,{payment_method:{card:C.getElement(H.CardElement),billing_details:{name:t.target.name.value}}});case 4:(a=e.sent).error?(s("Payment failed ".concat(a.error.message)),E(!1)):(s(null),E(!1),l(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{id:"payment-form",onSubmit:L},r.a.createElement(H.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:S}),r.a.createElement("button",{disabled:h||b||a,id:"submit"},r.a.createElement("span",{id:"button-text"},h?r.a.createElement("div",{className:"spinner",id:"spinner"}):"Pay")),i&&r.a.createElement("div",{className:"card-error",role:"alert"},i),r.a.createElement("p",{className:a?"result-message":"result-message hidden"},"Payment succeeded, see the result in your",r.a.createElement("a",{href:"https://dashboard.stripe.com/test/payments"}," ","Stripe dashboard.")," Refresh the page to pay again."))}var Y=Object(M.a)("pk_test_TYooMQauvdEDq54NiTphI7jx");function _(){return r.a.createElement("div",{className:"payment-page"},r.a.createElement(H.Elements,{stripe:Y},r.a.createElement(F,null)))}function J(e){var t=e.handleClick,a=e.handleUser,n=e.user;return r.a.createElement(C.d,null,r.a.createElement(C.b,{exact:!0,path:"/",render:function(){return r.a.createElement(j,{handleClick:t})}}),r.a.createElement(C.b,{exact:!0,path:"/superpowers",component:w}),r.a.createElement(C.b,{path:"/superpowers/:superpowerId",component:z}),r.a.createElement(C.b,{path:"/cart",component:R}),r.a.createElement(C.b,{path:"/signup",component:P}),r.a.createElement(C.b,{path:"/login",render:function(){return r.a.createElement(I,{handleClick:t,handleUser:a})}}),r.a.createElement(C.b,{path:"/payment",component:_}),r.a.createElement(C.b,{exact:!0,path:"/users"},"admin"===n.role?r.a.createElement(D,null):r.a.createElement(C.a,{to:"/users/".concat(n.id)})),r.a.createElement(C.b,{path:"/users/:userId",render:function(e){return r.a.createElement(q,Object.assign({},e,{handleClick:t,user:n}))}}),r.a.createElement(C.b,{path:"*",component:B}))}var W=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClick=function(t){e.setState({activeLink:t})},e.handleUser=function(t){e.setState({user:t})},e.state={activeLink:document.location.pathname,user:{}},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{activeLink:this.state.activeLink,user:this.state.user,handleClick:this.handleClick}),r.a.createElement("div",{className:"content"},r.a.createElement(J,{user:this.state.user,handleClick:this.handleClick,handleUser:this.handleUser})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(80);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,null,r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.0aecce10.chunk.js.map